{"version":3,"sources":["components/ProtectedRoute.js","images/logo/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/PageLoader.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/api.js","utils/auth.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/logo/tooltip-ok.svg","images/logo/tooltip-error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","children","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","onCardDelete","type","onCardLike","length","PageLoader","Main","cards","onEditProfile","onEditAvatar","onAddPlace","onLogout","userEmail","isLoaded","avatar","about","map","item","Footer","year","Date","getFullYear","ImagePopup","isOpen","onClose","PopupWithForm","onSubmit","title","buttonText","EditProfilePopup","onUpdateUser","useState","values","setValues","useEffect","handleChange","e","target","value","preventDefault","htmlFor","id","placeholder","minLength","maxLength","required","onChange","api","options","this","_baseUrl","baseUrl","_headers","headers","param","fetch","path","method","body","then","res","ok","json","Promise","reject","status","message","_request","data","JSON","stringify","cardId","likeCard","unlikeCard","authorization","auth","endpoint","req","statusText","password","email","userData","catch","err","console","log","token","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","ConfirmationPopup","onConfirm","Login","onLogin","Register","onRegister","InfoTooltip","icon","withRouter","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","isTooltipOpen","setIsTooltipOpen","tooltipData","setTooltipData","selectedCard","setSelectedCard","setCurrentUser","setUserEmail","setLoggedIn","setCards","setIsLoaded","history","useHistory","localStorage","getItem","checkToken","handleLogin","all","getUser","getInitialCards","user","finally","closeByEscape","key","closeAllPopups","document","addEventListener","removeEventListener","closeByClick","classList","contains","push","Provider","signUp","tooltipIconOk","error","tooltipIconError","signIn","setItem","changeLikeCardStatus","newCard","state","c","removeItem","updateUser","changeAvatar","createCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b9bc55a2.chunk.js","sourcesContent":["import { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import logo from \"../images/logo/logo.svg\";\n\nfunction Header({ children }) {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\n      {children}\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext()","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const card = props.card;\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__remove-button ${isOwn ? 'element__remove-button_visible' : 'element__remove-button_hidden'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `${isLiked ? 'like__button_active' : 'like__button_inactive'}`;\n\n  const handleOnClick = () => {\n    props.onCardClick(card);\n  }\n\n  const handleLikeClick = () => {\n    props.onCardLike(card);\n  }\n\n  const handleDeleteCard = () => {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"elements__list-item\">\n      <article className=\"element\">\n        <div className=\"element__square-container\">\n          <img src={card.link} alt={card.name} className=\"element__image\" onClick={handleOnClick}/>\n          <button className={`element__remove-button button ${cardDeleteButtonClassName}`} onClick={handleDeleteCard}/>\n        </div>\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"like\">\n          <button type=\"button\" className={`like__button button ${cardLikeButtonClassName}`} onClick={handleLikeClick}/>\n          <span className=\"like__counter\">{card.likes.length}</span>\n        </div>\n      </article>\n    </li>\n  )\n}\n\nexport default Card;","export default function PageLoader(props) {\n  return (\n    <main className=\"loader\">\n      <div className=\"loader__animation\"></div>\n    </main>\n  )\n}","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\nimport PageLoader from \"./PageLoader\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\n\nfunction Main({ cards, onCardLike, onCardDelete, onCardClick, onEditProfile, onEditAvatar, onAddPlace, onLogout, userEmail, isLoaded }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return !isLoaded\n    ? <PageLoader />\n    : (\n      <>\n        <Header>\n          <p className=\"header__email\">{userEmail}</p>\n          <Link to=\"/sign-in\" onClick={onLogout} className='header__link link'>Выйти</Link>\n        </Header>\n        <main className=\"content\">\n\n          <section className=\"profile\">\n            <button\n              onClick={onEditAvatar}\n              className=\"button profile__avatar-button\">\n              <img src={currentUser.avatar} alt=\" \" className=\"profile__avatar\" />\n            </button>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                onClick={onEditProfile}\n                className=\"profile__edit-button button\" />\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\n            </div>\n            <button\n              onClick={onAddPlace}\n              type=\"button\" className=\"profile__add-button button\" />\n          </section>\n\n          <section className=\"elements\" aria-label=\"Карточки мест\">\n            <ul className=\"elements__list\">\n              {cards.map(item => {\n                return (\n                  <Card\n                    card={item}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}\n                    key={item._id}\n                  />\n                )\n              })}\n            </ul>\n          </section>\n\n        </main>\n      </>\n    )\n}\n\nexport default Main;\n","function Footer() {\n  const year = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">&copy; {year} Mesto Russia</footer>\n  )\n}\n\nexport default Footer;\n","function ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div className={`popup popup_content_place-image ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__container_content_place-image\">\n        <button onClick={onClose} className=\"popup__close button\"/>\n        <figure className=\"view-fullscreen\">\n          <img src={card?.link} alt={card?.name} className=\"view-fullscreen__image\"/>\n          <figcaption\n            className=\"view-fullscreen__caption\">{card?.name} — {card?.owner.name}, {card?.owner.about}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_content_${props.name} ${props.isOpen?'popup_opened':''}`}>\n      <div className=\"popup__container\">\n        <button\n          onClick={props.onClose}\n          className=\"popup__close button\"\n        />\n        <form className=\"form\" name={`${props.name}-form`} onSubmit={props.onSubmit}>\n          <h2 className=\"form__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"form__submit-button button\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup ({ isOpen, onClose, onUpdateUser }) {\n    const [values, setValues] = useState({ name: '', about: '' });\n    const currentUser = useContext(CurrentUserContext);\n    useEffect(() => {\n      setValues({\n        name: (currentUser.name || ''),\n        about: (currentUser.about || ''),\n      });\n    }, [currentUser, isOpen]);\n\n    const handleChange = (e) => {\n      const target = e.target;\n      const value = target.value;\n      const name = target.name;\n      setValues({ ...values, [name]: value });\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      onUpdateUser({\n        name: values.name,\n        about: values.about,\n      });\n    }\n\n    return (\n        <PopupWithForm\n          name={'edit-profile'}\n          title={'Редактировать профиль'}\n          buttonText={'Сохранить'}\n          isOpen={isOpen}\n          onClose={onClose}\n          onSubmit={handleSubmit}>\n          <label htmlFor=\"name-input\" className=\"form__label\">\n            <input type=\"text\" name=\"name\" value={values.name} id=\"name-input\" placeholder=\"Имя\" className=\"form__input\" minLength=\"2\" maxLength=\"40\"\n                  required onChange={handleChange} />\n            <span className=\"form__input-error form__input-error_visible name-input-error\"></span>\n          </label>\n          <label htmlFor=\"about-input\" className=\"form__label\">\n            <input type=\"text\" name=\"about\" value={values.about} id=\"about-input\" placeholder=\"Занятие\" className=\"form__input\" minLength=\"2\" maxLength=\"200\"\n                  required onChange={handleChange} />\n            <span className=\"form__input-error form__input-error_visible about-input-error\"></span>\n          </label>\n        </PopupWithForm>\n    )\n}","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _request(param) {\n    return fetch(this._baseUrl + param.path, {\n      method: param.method,\n      headers: this._headers,\n      body: param.body,\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}: ${res.message}`);\n      });\n  }\n\n  getUser() {\n    return this._request({\n      method: 'GET',\n      path: 'users/me',\n    });\n  }\n\n  getInitialCards() {\n    return this._request({\n      method: 'GET',\n      path: 'cards',\n    });\n  }\n\n  updateUser(data) {\n    return this._request({\n      method: 'PATCH',\n      path: 'users/me',\n      body: JSON.stringify(data),\n    });\n  }\n\n  createCard(data) {\n    return this._request({\n      method: 'POST',\n      path: 'cards',\n      body: JSON.stringify(data),\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._request({\n      method: 'DELETE',\n      path: `cards/${cardId}`,\n    });\n  }\n\n  likeCard(cardId) {\n    return this._request({\n      method: 'PUT',\n      path: `cards/likes/${cardId}`,\n    });\n  }\n\n  unlikeCard(cardId) {\n    return this._request({\n      method: 'DELETE',\n      path: `cards/likes/${cardId}`,\n    });\n  }\n\n  changeLikeCardStatus(cardId, status) {\n    return status ? this.likeCard(cardId) : this.unlikeCard(cardId);\n  }\n\n  changeAvatar(link) {\n    return this._request({\n      method: 'PATCH',\n      path: 'users/me/avatar',\n      body: JSON.stringify(link),\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25/',\n  headers: {\n    authorization: '04f57d96-9414-4d3f-8e70-9d8b878ddf47',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","class Auth {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  _request({ endpoint, req }) {\n    return fetch(this.baseUrl + endpoint, req)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}: ${res.statusText}`);\n      })\n  }\n\n  signUp({ password, email }) {\n    return this._request({\n      endpoint: '/signup',\n      req: {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({ password, email })\n      }\n    });\n  }\n\n  signIn(userData) {\n    return this._request({\n      endpoint: '/signin',\n      req: {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify(userData)\n      }\n    })\n      .catch(err => console.log(err));\n  }\n\n  checkToken(token) {\n    return this._request({\n      endpoint: '/users/me',\n      req: {\n        method: \"GET\",\n        headers: {\n          ...this.headers,\n          'Authorization': `Bearer ${token}`\n        },\n      }\n    })\n\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n\nexport default auth;\n","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = useRef('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name={'avatar'}\n      title={'Обновить аватар'}\n      buttonText={'Изменить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n      <label htmlFor=\"avatar-link-input\" className=\"form__label\">\n        <input ref={avatarRef} type=\"url\" name=\"avatar\" id=\"avatar-link-input\" placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" required />\n        <span className=\"form__input-error form__input-error_visible avatar-link-input-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","import { useEffect, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [values, setValues] = useState({\n    name: '',\n    link: ''\n  });\n\n  useEffect(() => {\n    setValues({\n      name: '',\n      link: ''\n    });\n  }, [isOpen]);\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    setValues({ ...values, [name]: value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace(values);\n  }\n\n  return (\n    <PopupWithForm\n      name={'add-card'}\n      title={'Новое место'}\n      buttonText={'Добавить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit} >\n      <label htmlFor=\"place-name-input\" className=\"form__label\">\n        <input type=\"text\" name=\"name\" value={values.name} onChange={handleChange} id=\"place-name-input\" placeholder=\"Название\" className=\"form__input\"\n          minLength=\"2\" required />\n        <span className=\"form__input-error form__input-error_visible place-name-input-error\"></span>\n      </label>\n      <label htmlFor=\"place-link-input\" className=\"form__label\">\n        <input type=\"url\" name=\"link\" value={values.link} onChange={handleChange} id=\"place-link-input\" placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" required />\n        <span className=\"form__input-error form__input-error_visible place-link-input-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmationPopup({ card, isOpen, onClose, onConfirm }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onConfirm(card);\n  }\n\n  return (\n    <PopupWithForm\n      name='confirmation'\n      title={'Вы уверены?'}\n      buttonText={'Да'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit} />\n  )\n}","import { useState } from \"react\"\n\nexport default function Login({ title, buttonText, onLogin }) {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin(values)\n  }\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({\n      ...values,\n      [name]: value,\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <form className=\"form auth__form\" onSubmit={handleSubmit}>\n        <h2 className=\"form__title auth__title\">{title}</h2>\n        <label htmlFor=\"email-input\" className=\"form__label\">\n          <input type=\"email\" name=\"email\" value={values.email} id=\"email-input\" placeholder=\"Email\" className=\"form__input auth__input\"\n            required onChange={handleChange} />\n          <span className=\"form__input-error form__input-error_visible name-input-error\"></span>\n        </label>\n        <label htmlFor=\"about-input\" className=\"form__label\">\n          <input type=\"password\" name=\"password\" value={values.password} id=\"pessword-input\" placeholder=\"Пароль\" className=\"form__input auth__input\" minLength=\"5\" maxLength=\"30\"\n            required onChange={handleChange} />\n          <span className=\"form__input-error form__input-error_visible about-input-error\"></span>\n        </label>\n        <button type=\"submit\" className=\"form__submit-button auth__button button\">{buttonText}</button>\n      </form>\n    </main>\n  )\n}","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Register({ title, buttonText, onRegister }) {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister(values);\n  }\n  const handleChange = (e) => {\n    const target = e.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({\n      ...values,\n      [name]: value,\n    })\n  }\n  return (\n    <main className=\"content\">\n      <form className=\"form auth__form\" onSubmit={handleSubmit}>\n        <h2 className=\"form__title auth__title\">{title}</h2>\n        <label htmlFor=\"email-input\" className=\"form__label\">\n          <input type=\"email\" name=\"email\" value={values.email} id=\"email-input\" placeholder=\"Email\" className=\"form__input auth__input\"\n            required onChange={handleChange} />\n          <span className=\"form__input-error form__input-error_visible name-input-error\"></span>\n        </label>\n        <label htmlFor=\"about-input\" className=\"form__label\">\n          <input type=\"password\" name=\"password\" value={values.password} id=\"pessword-input\" placeholder=\"Пароль\" className=\"form__input auth__input\" minLength=\"5\" maxLength=\"30\"\n            required onChange={handleChange} />\n          <span className=\"form__input-error form__input-error_visible about-input-error\"></span>\n        </label>\n        <button type=\"submit\" className=\"form__submit-button auth__button button\">{buttonText}</button>\n        <p className=\"auth__subtitle\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"auth__link link\">Войти</Link></p>\n      </form>\n    </main>\n  )\n}","export default function InfoTooltip({ data, isOpen, onClose }) {\n  return (\n    <div className={`popup popup_content_tooltip ${isOpen?'popup_opened':''}`}>\n      <div className=\"popup__container popup__container_content_tooltip\">\n        <button\n          onClick={onClose}\n          className=\"popup__close button\"\n        />\n        <img src={data.icon} alt=\"Иконка состояния авторизации\" className=\"popup__icon\"/>\n        <p className=\"popup__message\">{data.message}</p>\n      </div>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/tooltip-ok.e004e6e7.svg\";","export default __webpack_public_path__ + \"static/media/tooltip-error.471086c8.svg\";","import { useEffect, useState } from \"react\";\nimport { Switch, Route, withRouter, Link, useHistory } from 'react-router-dom';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport api from \"../utils/api\";\nimport auth from \"../utils/auth\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport tooltipIconOk from \"../images/logo/tooltip-ok.svg\";\nimport tooltipIconError from \"../images/logo/tooltip-error.svg\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] = useState(false);\n  const [isTooltipOpen, setIsTooltipOpen] = useState(false);\n  const [tooltipData, setTooltipData] = useState({ icon: '', message: '' });\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [userEmail, setUserEmail] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.checkToken(token)\n        .then(res => {\n          handleLogin(res.data.email);\n        })\n        .catch(err => console.log(err));\n    }\n    Promise.all([api.getUser(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoaded(true));\n      // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape);\n\n    return () => document.removeEventListener('keydown', closeByEscape);\n  }, []);\n\n  useEffect(() => {\n    const closeByClick = (e) => {\n      if (e.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('mousedown', closeByClick);\n\n    return () => document.removeEventListener('mousedown', closeByClick);\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmationPopupOpen(false);\n    setIsTooltipOpen(false);\n    setSelectedCard(null);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const confirmCardDelete = (card) => {\n    setSelectedCard(card);\n    setIsConfirmationPopupOpen(true);\n  }\n\n  const handleUpdateUser = (data) => {\n    api.updateUser(data)\n      .then(user => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.changeAvatar(data)\n      .then(user => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleAddPlaceSubmit = (data) => {\n    api.createCard(data)\n      .then(newCard => {\n        setCards((state) => [newCard, ...state]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleSignUp = (userData) => {\n    auth.signUp(userData)\n      .then(json => {\n        if (json?.data) {\n          setUserEmail(json.data.email);\n          setTooltipData({\n            icon: tooltipIconOk,\n            message: 'Вы успешно зарегистрировались!'\n          });\n          setIsTooltipOpen(true);\n          history.push('/');\n        }\n      })\n      .catch(error => {\n        setTooltipData({\n          icon: tooltipIconError,\n          message: 'Что-то пошло не так! Попробуйте ещё раз.'\n        });\n        setIsTooltipOpen(true);\n        console.log(error);\n      });\n  }\n\n  const handleSignIn = (userData) => {\n    auth.signIn(userData)\n      .then(json => {\n        if (json?.token) {\n          localStorage.setItem('jwt', json.token);\n          history.push('/');\n        }\n      })\n      .then(() => {\n        setUserEmail(userData.email);\n        setLoggedIn(true);\n      })\n      .catch(error => console.log(error));\n  }\n\n  const handleLogin = (email) => {\n    setUserEmail(email);\n    setLoggedIn(true);\n    history.push('/');\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setUserEmail('');\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route path='/sign-up'>\n            <Header>\n              <Link to='/sign-in' className='header__link link'>Войти</Link>\n            </Header>\n            <Register title=\"Регистрация\"\n              buttonText=\"Зарегистрироваться\"\n              onRegister={handleSignUp}\n            />\n          </Route>\n          <Route path='/sign-in'>\n            <Header>\n              <Link to='/sign-up' className='header__link link'>Регистрация</Link>\n            </Header>\n            <Login title=\"Вход\"\n              buttonText=\"Войти\"\n              onLogin={handleSignIn}\n            />\n          </Route>\n          <ProtectedRoute path='/'\n            loggedIn={loggedIn}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={confirmCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onLogout={handleLogout}\n            isLoaded={isLoaded}\n            userEmail={userEmail}\n            component={Main} />\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser} />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onUpdateAvatar={handleUpdateAvatar}\n          onClose={closeAllPopups} />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit} />\n\n        <ConfirmationPopup\n          card={selectedCard}\n          isOpen={isConfirmationPopupOpen}\n          onClose={closeAllPopups}\n          onConfirm={handleCardDelete} />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups} />\n\n        <InfoTooltip\n          isOpen={isTooltipOpen}\n          data={tooltipData}\n          onClose={closeAllPopups}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}